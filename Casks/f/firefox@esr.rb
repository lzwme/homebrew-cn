cask "firefox@esr" do
  version "128.12.0"

  language "af" do
    sha256 "9e94b402a764feb78e4d4ae4534144226c16e14f2d497a1cbf7ae9f8da81c7de"
    "af"
  end
  language "ar" do
    sha256 "2896d6d7748eacadf701d4b89a581b2015740109e0484bf7b623968eabbe7f53"
    "ar"
  end
  language "be" do
    sha256 "2eced387f54ec22219d3cf69733bfe124b4b477bd5ff361628685cffe84d79c8"
    "be"
  end
  language "bg" do
    sha256 "a4cfaf8e3737d34203969062bcb1b2354d1676327021312c5e5f80fd344d020e"
    "bg"
  end
  language "bn" do
    sha256 "5e6e2e32f88791a5279881956392977a1353b5b838f00ab3dc0603c399586498"
    "bn"
  end
  language "ca" do
    sha256 "4aada02ae8e18387aee116cb4b1d07c9c4f4d7d9a477246aea41dbdb359c7b4a"
    "ca"
  end
  language "cs" do
    sha256 "0dad1dec1019f750b1dbc6006e29a24bbc05e9f7fa0bf86b7bb9fe21b1e26666"
    "cs"
  end
  language "de" do
    sha256 "35052486f91a5d34062ee46bff16c9c77f7e593e59a4d59ce8a3dd185ff59e5a"
    "de"
  end
  language "en-CA" do
    sha256 "5e0b645e20eed42bb53a661c6f24602c651babd303e02e88e4f3a8719fa9ef3f"
    "en-CA"
  end
  language "en-GB" do
    sha256 "66032d811ef5d5d7ea3bd5728551129d303d90eecabc746f52827a7957092132"
    "en-GB"
  end
  language "en", default: true do
    sha256 "5cfeda8e02efcaa02b8dd67468378f4b971b6783e0f151b1c683526e0336dd0b"
    "en-US"
  end
  language "eo" do
    sha256 "5e60cec908288f65d5a6461e2425de0f7a5b16a88caa811c94672c8bc6b6a7bf"
    "eo"
  end
  language "es-AR" do
    sha256 "09b92f39d457a7953d1571fa5279d598c738768528051f82b6dfcd9649bd7c53"
    "es-AR"
  end
  language "es-CL" do
    sha256 "ee11de520a2040defbbb436c3662029ca417bd742ff6bc1edd86dc012e17c725"
    "es-CL"
  end
  language "es-ES" do
    sha256 "6b53f5fc5e44da370fe91d08fab07def34bd0a7c519d96633dd3ed71d2ad84f9"
    "es-ES"
  end
  language "fa" do
    sha256 "2189d8d41c1c3bbfc0f1f3bac35eac071d424c01c1bf337a093e7e91101d49b5"
    "fa"
  end
  language "ff" do
    sha256 "a6b95855705e5dc00e490b0d6d31234f0219d71306ab60e4b33ba39325014301"
    "ff"
  end
  language "fi" do
    sha256 "7d8b8cd9b3af65adbfbd314eb1727f95bed0e44694a02273fc859d3eb9a4debf"
    "fi"
  end
  language "fr" do
    sha256 "2edba8142dc0cb474ee0ca43a0bc879e07ecc36671b67239586323f7157c9647"
    "fr"
  end
  language "gl" do
    sha256 "7ca6563b835a0ab43bef6fc307aaf41fd614c3a9b07564dbb2495e8a962a97cf"
    "gl"
  end
  language "gn" do
    sha256 "af03e0ff94926458c423f2685e321bdc2ac3912293becf9936b6c036dd5c23dc"
    "gn"
  end
  language "gu" do
    sha256 "1f506061b8902dc57f9f60c70583d70c6d56920036a5a198c7195dbb09b065f9"
    "gu-IN"
  end
  language "he" do
    sha256 "39a6e09cb6ab7c3d5fd68bf07b4f822b5fb68755d3eb12c54468124689bcd18e"
    "he"
  end
  language "hi" do
    sha256 "bc4f7fa902db0c4bbd3d1e2c402ece0ae1064cda6e4ea4cb8d0fe3a512b60527"
    "hi-IN"
  end
  language "in" do
    sha256 "bc4f7fa902db0c4bbd3d1e2c402ece0ae1064cda6e4ea4cb8d0fe3a512b60527"
    "hi-IN"
  end
  language "it" do
    sha256 "4c5839f7408ee2c98ca834ce991c390b25099586a46c5487490d1ba5d1e83a36"
    "it"
  end
  language "ja" do
    sha256 "022ab4520bf35cfc582f81b15b3455b154cfc82c0a3223ac9dd5016ff277f900"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "b4b65585d599ff48e44f2faf554bdc7dcbeafd7455a377795b1acf4894cb7c54"
    "ka"
  end
  language "ko" do
    sha256 "33c6942b2305d1378a29d7d6dbaee08bb60b7fe315e8f5df8bf1dcec1ea46d77"
    "ko"
  end
  language "mr" do
    sha256 "90f8b498939fa402cb4489ccb2643e1d18e340830382ff82a3ff29b70f554e04"
    "mr"
  end
  language "my" do
    sha256 "a730e56a70fab725cc209150878a2cbf5232dd96a8437d18b0afa83ad4af1be5"
    "my"
  end
  language "ne" do
    sha256 "d12fb853f44b6b86156f7c2267d4f42a27470e977248f120a55229d12d911c55"
    "ne-NP"
  end
  language "nl" do
    sha256 "1d529c26b37b3dedf66c36ab9cf1d05d9ab9fd30c0957e223130a7e017c67726"
    "nl"
  end
  language "pa-IN" do
    sha256 "23b23dbfac305ad610582d26642117d34f889013251ed518c512de15df6ac297"
    "pa-IN"
  end
  language "pl" do
    sha256 "087e9755818522733398c3832c9cb75624a7658165d5cb297493a29c985f061d"
    "pl"
  end
  language "pt-BR" do
    sha256 "98acc5ddafa9cc24a3bac63116eb59de1caa2e20c9b1e03f7f1abc84227adb8f"
    "pt-BR"
  end
  language "pt" do
    sha256 "5e087504ae390926ba9f58d5b371addfafe24616a8331e5817063cd6ed46d98c"
    "pt-PT"
  end
  language "ru" do
    sha256 "2ae4043c6e1b96abdb4413f19effb39ebf84ff5d70881623c26b9d5ff3d9eb8a"
    "ru"
  end
  language "si" do
    sha256 "5b88b4f9e320771acb26fdd812405a621da401cad754fda0a91337f0717b3ec6"
    "si"
  end
  language "sq" do
    sha256 "1558847049e0a868ecb2e15312652b6ede71bf47d5180aebfd516389e292b052"
    "sq"
  end
  language "sr" do
    sha256 "d6dab9b452e70995329491965ae4d02b0ee8d9f3bed8216fcc799b40a5f68d9e"
    "sr"
  end
  language "sv" do
    sha256 "6976574ac1d37e0d58b7efdaa614d605f147286376db22d123be390e15b21526"
    "sv-SE"
  end
  language "ta" do
    sha256 "f0e47deee7a6e8f713c458ed8f14ff5838051c0e33e4586ce52d753af90ecf90"
    "ta"
  end
  language "te" do
    sha256 "4643c7bee1a0c1034b696eecd69a11229aeee667a8d555ceb1cea3f359c1c6b2"
    "te"
  end
  language "th" do
    sha256 "cf4e74bbf9461682d5d775164072f43da59099e7565508a8e8f8166d0a5a75c4"
    "th"
  end
  language "tl" do
    sha256 "96be23c1eef7e16c1f152f373cbfd2f487b3b71ea609785c65a3a7524ec24279"
    "tl"
  end
  language "tr" do
    sha256 "141bd7ffeb3785b6ede2df0ab7efa63d0dd1c338ebd246842497e34c9fa3c830"
    "tr"
  end
  language "uk" do
    sha256 "61a74e4a74c8c71cf38fdf36f4c82c6c7c41fe7c8b7c74d5da8f576f5cc92c14"
    "uk"
  end
  language "ur" do
    sha256 "69c0c7ec0e5e4ae63b8109c568a6ba17b3d10dca5c40f3d0238415e3f5590439"
    "ur"
  end
  language "zh-TW" do
    sha256 "8b36bf41fcb43f556cd497cbc198246c8f469b8a1b8f0234bdb1d8e1d6cde647"
    "zh-TW"
  end
  language "zh" do
    sha256 "bba64848a6d265f5ec4dd70cba9224fb829fa00be50a7cf9046d5e13a028f530"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end