cask "firefox@esr" do
  version "128.9.0"

  language "af" do
    sha256 "35e0a4ce4eea069f0011c359bcc5186caf85b5b860f8ca1b4b5325bd1b9f5600"
    "af"
  end
  language "ar" do
    sha256 "e42e3b1954fb13c05e8da2bd5a5c8bd24dea3846ed0fbbb1d1c832bb9d4684f8"
    "ar"
  end
  language "be" do
    sha256 "c0578a1b3eca532de1b18e986b63b77318c1f49e4509d2c666e2307945c479f7"
    "be"
  end
  language "bg" do
    sha256 "1ea58792408242bf69b1e32f95e82f926b89ffe3b4763c7fefbe0e34c7a23a4c"
    "bg"
  end
  language "bn" do
    sha256 "f45e7ab4c8c7a110738d3c2ad32eef1c990d4d9bc2115646b0cd712fb3e250e5"
    "bn"
  end
  language "ca" do
    sha256 "5c11f7499cb5dad0969b9aa749ac60f55b106fa3a7344c7df0d7755586174e09"
    "ca"
  end
  language "cs" do
    sha256 "31ac2d9379093c93ffd6e05622cd9ae464a435029ad6a6de61dabe3528b7d66c"
    "cs"
  end
  language "de" do
    sha256 "8eee9d46710e0b460e950f285b208baaf2bfa5f628aece8443ee1e5b3c263d35"
    "de"
  end
  language "en-CA" do
    sha256 "efc2518cb171043d3f387741fb69318e287eb29cab8dd76a1a0c41273deef5b4"
    "en-CA"
  end
  language "en-GB" do
    sha256 "b9e3a15ea6495b064d31b4be9a3fa43cba565bf345e731e6108210a18e6df62f"
    "en-GB"
  end
  language "en", default: true do
    sha256 "e8f3234930557df41ed5111abf558f8790cbcc380c8950d50c19152067fd3055"
    "en-US"
  end
  language "eo" do
    sha256 "6cb565e67bfb6f49e4ab0c00c25a0919f08518f1ae4db2f6b0348dc66773125e"
    "eo"
  end
  language "es-AR" do
    sha256 "8e8a59b675cd12ac1a6cc8fdc5a9f4cdf6abfe3053bd097503b89724f8751bc9"
    "es-AR"
  end
  language "es-CL" do
    sha256 "0d6896f14d608f7f3ccd7ea7da288afc476d673cef7fcca7c860795b1e35a5ed"
    "es-CL"
  end
  language "es-ES" do
    sha256 "6d3acaf9026b00f2af2c3f21f932b5a171a6cb2d732c97aa6f2439369b40bd55"
    "es-ES"
  end
  language "fa" do
    sha256 "da08392c91727bc16b837e3bcefceca243a37a522bfaa15ffdf0b072de67e04f"
    "fa"
  end
  language "ff" do
    sha256 "25664c1f6ea625ef4d0abe837a4432ff4184560985e60e3bc6007e44b8ed34d5"
    "ff"
  end
  language "fi" do
    sha256 "2d486a80a350d39f8356afc8ccf42385a6c4daaa5e4b5938c7ee5f9ce528859a"
    "fi"
  end
  language "fr" do
    sha256 "2c28fca67f2c995c25da852f34ae2c1f517cd695ff7c0f11606ca7d3333fd853"
    "fr"
  end
  language "gl" do
    sha256 "eb833dc7b0ff801fb7536506081201fa7ef61096b854d9c7ae278a2a806dac38"
    "gl"
  end
  language "gn" do
    sha256 "583c62f363f56ebe426e47716493563f2bc0e0723f3b759621962d33d6df815c"
    "gn"
  end
  language "gu" do
    sha256 "e42fd5ccb2ae52a05359d1035d15dc9e2b2847f17878963799453022f5a47564"
    "gu-IN"
  end
  language "he" do
    sha256 "5b246ead8c5a968a6dd5a2f8f09881a8505c879579835cf810bb8b77d74e7c78"
    "he"
  end
  language "hi" do
    sha256 "806b852e44ef0da743ac26c1574e2202d5fdae6454f59f412f3ee78b01404b74"
    "hi-IN"
  end
  language "in" do
    sha256 "806b852e44ef0da743ac26c1574e2202d5fdae6454f59f412f3ee78b01404b74"
    "hi-IN"
  end
  language "it" do
    sha256 "b6d0f6b74f72c1b25d1c010e4b6a6e8c3000bc4919249ed8cce9b3aad7bccd9c"
    "it"
  end
  language "ja" do
    sha256 "2ad3c94af1ccd9ae1eece1a7f37f1ef4a32541e17caa693e68798e354712262e"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "068096ab3b125cd68314cce70c976d36cccada6efe8aafcb9c68305b9a940d4d"
    "ka"
  end
  language "ko" do
    sha256 "798c7ca02ad339271a7a5b6062e1c71c9f7fddc176a82b6978e140135da3a4fd"
    "ko"
  end
  language "mr" do
    sha256 "66cb10d8c63ef21a95055dc4f3d112d0d3b95df0dac7848a6c0161d5610f5c83"
    "mr"
  end
  language "my" do
    sha256 "3d147e687c843f00939d7b6a1c48fd121f068a00ecc46be95f1485f0d5966f49"
    "my"
  end
  language "ne" do
    sha256 "b355cb325a91cb1bdef3451654e2f3377d972d5d3c4f882a1327dd2915e9e476"
    "ne-NP"
  end
  language "nl" do
    sha256 "e310c906743f254d71114f4a36ede5b99f191f30553d102d3088e34a02abca29"
    "nl"
  end
  language "pa-IN" do
    sha256 "d816214efa654a9965fee0d9a1706858b84f9e056624b509c6ac21c0097ddb6e"
    "pa-IN"
  end
  language "pl" do
    sha256 "3e3bf53ec532255537462656bf71033c6b4000696a1b3f76eb499c2de396e93f"
    "pl"
  end
  language "pt-BR" do
    sha256 "81b35215c871d6ce9e5410072eac5e58f7526ec792048ff8a93025a1d1ead907"
    "pt-BR"
  end
  language "pt" do
    sha256 "effbcb089bbe0edafc1001840994d7aa22feb4c76347db7a9c3b5f9277190f76"
    "pt-PT"
  end
  language "ru" do
    sha256 "93bad6de145dba259b058d08100389fc5ff3532ee5297397a36133b52804ef15"
    "ru"
  end
  language "si" do
    sha256 "0e2f9954bf4c697342a479e1cc5a0e4a5533acf6384ba0643c5210f010eb7d57"
    "si"
  end
  language "sq" do
    sha256 "999edd87c9442fdd5b3ce370d6a73176b48753898b0ccf3357c9b7fd0032670e"
    "sq"
  end
  language "sr" do
    sha256 "0ee087a97354abec3a99b55bb5e906859c25d95f16dc7a3b24bd747f68df4952"
    "sr"
  end
  language "sv" do
    sha256 "eb985e9744dc767c95ffb0cdc5fe1ae89b1ea10cf81108360654a360463f8615"
    "sv-SE"
  end
  language "ta" do
    sha256 "27987663114c1fc554b7795da6029791b1115913f8b8cc590145d4034342843d"
    "ta"
  end
  language "te" do
    sha256 "5503ad3793669d02f282d163e0ffe94e3c2cdf54c755c9911bd09b3ffdba3520"
    "te"
  end
  language "th" do
    sha256 "60de8d104c6397a20810fceac8961a2191331378b698b51d0f5a54a926c7870c"
    "th"
  end
  language "tl" do
    sha256 "35e1970da6b6b936ae0e89a4b9d448bb8e858c4d2faefd0d389c90f8ece766af"
    "tl"
  end
  language "tr" do
    sha256 "ee5166fc0f14c03556a6c4441b6a1f71b2cdfeaf0e0d128847d42681a203970c"
    "tr"
  end
  language "uk" do
    sha256 "d06714da4e502e2bd5b365d9619316ef6a8587696afc29849df59b1063eabe90"
    "uk"
  end
  language "ur" do
    sha256 "a08e46bd0b1550d19e5b73b7c5d5226d5e1e9e0c34f1ad5322a294ca7657256a"
    "ur"
  end
  language "zh-TW" do
    sha256 "33e8ba618ab2a8b65daef62a0a73dfe72d26b9dbf604627f99cf0a8ea137e2c5"
    "zh-TW"
  end
  language "zh" do
    sha256 "492136a7d101341e37277f177a31e18496512a458469ee2142bd5a5bec462663"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end