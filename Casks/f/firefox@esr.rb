cask "firefox@esr" do
  version "140.3.1"

  language "af" do
    sha256 "44fee0f719ca8d8c8a786b1eb2b915bf46e2333c4ec11b333cd4ab9e2dbdec14"
    "af"
  end
  language "ar" do
    sha256 "e4a71a3d5d7ea22076bb9034d8e10e1eb77dcdcb67e39c05f04939c88bc22f15"
    "ar"
  end
  language "be" do
    sha256 "99cb6cf7621217d634a1305c1ce1c8bd92fca6fc4e8530a857d5f6c2dde23c97"
    "be"
  end
  language "bg" do
    sha256 "f85d2feee120861de4ece60f83419eb9d1d109fddb08c105b705ecf35c3eacb6"
    "bg"
  end
  language "bn" do
    sha256 "26bd5d6fe45eae835c9d5f6a93ee53c634c01250cf7449e41c9d0342adb76638"
    "bn"
  end
  language "ca" do
    sha256 "d61910b6550e3aa40d540daf3269ed6b5c0fb5a49d050f56d566dc919fa6d276"
    "ca"
  end
  language "cs" do
    sha256 "ba9500fd7a0d3a2399aafe2ea7bf8e298d812cc17346d7822e5136873b597060"
    "cs"
  end
  language "de" do
    sha256 "71d0ae86da1bf8ff9bc6b4629ea579faae8e5afdd8009b4cf2582a0b595f625d"
    "de"
  end
  language "en-CA" do
    sha256 "e63a5068c1c01d1328f41bda74bbe0efba8dfde68995bbd8e093038f0629d0fb"
    "en-CA"
  end
  language "en-GB" do
    sha256 "6e3afc7d0495e08b08d250c7b1bbac8439151ae6da06ccaf4f01fa48386c40cf"
    "en-GB"
  end
  language "en", default: true do
    sha256 "a4082eba7da3b0bbd62d3fc1c01d38aaafdc8c1930ff4e7df5619e21b9227d3e"
    "en-US"
  end
  language "eo" do
    sha256 "9ece701db5a388a6f59855783b5944c1dc51d258275554a4aafd7182d99431f7"
    "eo"
  end
  language "es-AR" do
    sha256 "96c64e84d6d636663d21c322d9fdbc11c65fb39274ff51bc89c675b4adff0b07"
    "es-AR"
  end
  language "es-CL" do
    sha256 "da17b88514bdce14f908a6bbf56e6d0c2b8ca8dc757561acdb8a7140d0b8ba8b"
    "es-CL"
  end
  language "es-ES" do
    sha256 "81a6f04ddd0d1146ef9ac9f796b3eaa4971e39a0e23b0e1c3b3c9c2192095ea1"
    "es-ES"
  end
  language "fa" do
    sha256 "11d330554c6f4c4c6ebb219fa9d6b1f319cc9a396896bb94d4bb33ce5f4c42b2"
    "fa"
  end
  language "ff" do
    sha256 "99d3de355de5e61ff8a15f443e50d994b4de68fc01faf122934666e6abffa2a9"
    "ff"
  end
  language "fi" do
    sha256 "46f2574bb2966f3ed0373ccfeaca0a93ff7346428a4c61cb855d001f20de261d"
    "fi"
  end
  language "fr" do
    sha256 "60a69716939f6d14655709782eb3825f3950dec351430232ce9b3593c9ab7b20"
    "fr"
  end
  language "gl" do
    sha256 "32fd54fbed910695deb017b69220569a06185017b36bdfafcb420e0ed4035cac"
    "gl"
  end
  language "gn" do
    sha256 "6057116eb7a12244e83cc658f94da4800ac17e758c62fb5ea5b6d2e4dd852497"
    "gn"
  end
  language "gu" do
    sha256 "44672c6b27539bf2b09c2fdf50114d70fc027cdcd3d4b516340c31e261922a1a"
    "gu-IN"
  end
  language "he" do
    sha256 "a5b58b199b6f725a76a461120265b266b2443466e8e3c477b1ecca18225b8d4a"
    "he"
  end
  language "hi" do
    sha256 "fabce14d10db864979fd04a4cc9799e64e160b88f612039816dec3ee59354da3"
    "hi-IN"
  end
  language "in" do
    sha256 "fabce14d10db864979fd04a4cc9799e64e160b88f612039816dec3ee59354da3"
    "hi-IN"
  end
  language "it" do
    sha256 "fa7b8e6485e067111559bfde7750fd4338bbddd89cfd2c40cf631b7b905c68d9"
    "it"
  end
  language "ja" do
    sha256 "9ba9ee0325ee5745abff0304f9cf2b866b4d4930dba4fb92e2043533670033f4"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "476a3505b62096817a7bdaccd7723d7b88a6e75b5b225ea9f4a531c22fd4d4fa"
    "ka"
  end
  language "ko" do
    sha256 "d767f8969a4e52ed344eddb4ea9afda90c221cb1592182a64de0c0d39aaa4129"
    "ko"
  end
  language "mr" do
    sha256 "138f4c0e1c7b75d3e19386983bd3c515e4a76c668ea365ed4b7ca27c8d3edc23"
    "mr"
  end
  language "my" do
    sha256 "b5d5fbf89ed14140f71c034e2c14fa653480da28dc7fc1d9c08ad5e29b09a9b5"
    "my"
  end
  language "ne" do
    sha256 "17b97f965f6f5c9ca6f6c1b722d8cf76cb7e0377cc1fd2fdde0e1bad3b345a27"
    "ne-NP"
  end
  language "nl" do
    sha256 "a91d865a2b12d02458dd6f69e9502b67fa987286495f6797aab7b461083b3c89"
    "nl"
  end
  language "pa-IN" do
    sha256 "d26098e3ccb67fef624f896c844a44d624ea5708a4ca8217cb677d4d6b498155"
    "pa-IN"
  end
  language "pl" do
    sha256 "a84fe0823f6f574895d79f0bb75a19e0927358df841a30640ea47d24a592799c"
    "pl"
  end
  language "pt-BR" do
    sha256 "dfcf35a9df24ed52db75646393a6a8952bd0c5553ebfd0de32fe5de3dbf19ff9"
    "pt-BR"
  end
  language "pt" do
    sha256 "867576e02f4f0380f08df2687ac42a7f81ad8e4957f98327faabe6dc7fbed5d0"
    "pt-PT"
  end
  language "ru" do
    sha256 "ec69cad17ecb54923479d16153f85b5121ec7cdc4057a698d715583029f5c338"
    "ru"
  end
  language "si" do
    sha256 "949a355828594205c3379fdfd87eda50396306819fb9d56d1879735ac72d82f5"
    "si"
  end
  language "sq" do
    sha256 "ccc7badde9db4f28ded0bb0fd2c4b2a1b611b91d8d7cb0714eda6d88c413eb67"
    "sq"
  end
  language "sr" do
    sha256 "1834f7c9672f56883123557cc25cbdc19bf3c4985c2637dffdfcc2c9270ca398"
    "sr"
  end
  language "sv" do
    sha256 "52936307ea040bda5fbaa301bb21685c449e664c6bc147b02980ba8fb6f10157"
    "sv-SE"
  end
  language "ta" do
    sha256 "dcb56cd33b2aff8507b5965a6d3578ddcecd752d84e9c779d5cee948b1d730de"
    "ta"
  end
  language "te" do
    sha256 "0d16b629b95609fdc010209f69904e5312644d6a633073592a1b7477dfed9dcc"
    "te"
  end
  language "th" do
    sha256 "d4b2931859083d030e0e25c83d1711106d8eb75dfa092ac571b298ff2cdfc13b"
    "th"
  end
  language "tl" do
    sha256 "a9728b34c2e4d6a69cab07fc68f02b79df64e55c0df5efef1f329a3db1b8621f"
    "tl"
  end
  language "tr" do
    sha256 "516623b29d99315e1eccf9e71c0a4b46b94352a4877189837651ed8c6c5268c0"
    "tr"
  end
  language "uk" do
    sha256 "17792c085e8430763fd8171c42643ab86321d5879fa4d854a0ff7fcd709e6c06"
    "uk"
  end
  language "ur" do
    sha256 "c0bad9a35d008383023bf8f191daa1be68ad7cce30e540dc203af9270d3320e5"
    "ur"
  end
  language "zh-TW" do
    sha256 "0b9d145dd1bd798a1da3a8a250fc1f16c9696b78b09b5ee42d9f1db1648fc6b1"
    "zh-TW"
  end
  language "zh" do
    sha256 "483c3ccfd0fd1b591a1c957e46f778ff2e09a50f037d7e7cebe9a0fee22de27d"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end