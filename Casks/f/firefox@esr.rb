cask "firefox@esr" do
  version "128.3.0"

  language "af" do
    sha256 "2a100518efe8f429fd55e5efbcb543612c854f7ae66fea918023dfa24f4f8df4"
    "af"
  end
  language "ar" do
    sha256 "12f062c2546bee25da42840e429da8e47142ab9bf2d2134754985319b376d3b6"
    "ar"
  end
  language "be" do
    sha256 "9ac1564289798087d1c4ed8fab6671de1f21a8a468b12ac39b373a3fd92397a5"
    "be"
  end
  language "bg" do
    sha256 "518480952e05247140063f8afdde49089a913c8053e53a65718c2177a2cc4f22"
    "bg"
  end
  language "bn" do
    sha256 "1554600fc082af317a7af4aefc4059583dd3dd57e4dcee8656e6410bdbfec3bc"
    "bn"
  end
  language "ca" do
    sha256 "b945a1ceecc571aa6612eedd5773e43d294079aa63feb9f108c33a122098cc2f"
    "ca"
  end
  language "cs" do
    sha256 "61c4e7efa3b5314e5beac10e44dcffbb48dd5cd38bfe91204652f6c7668696ab"
    "cs"
  end
  language "de" do
    sha256 "899da847c94ed131dfaa82e70d10241bd109c88c8ea7bf68dc9125d889c0488b"
    "de"
  end
  language "en-CA" do
    sha256 "cb5452bbe0e67b5d3c90929732fbbe0e1288649fbfadc66d22e8dc7d4c5def63"
    "en-CA"
  end
  language "en-GB" do
    sha256 "e18e44f46c517c7a92bf41bd57dde4118608f9bfef8215f357650516c0082abc"
    "en-GB"
  end
  language "en", default: true do
    sha256 "ce6ece45b3ebc72c1fb032769ae8fba739fa49bf3200ee268e904d44b8c85315"
    "en-US"
  end
  language "eo" do
    sha256 "787e5ef37d0849b9a1cbae802b78e09a0fbadf34be196af25125b598080b1634"
    "eo"
  end
  language "es-AR" do
    sha256 "ef57bb02a5719c91b62d5563940af1851addcdb10b072f4b5e433b81fe7ac873"
    "es-AR"
  end
  language "es-CL" do
    sha256 "cb2ac2c6fd1a1fa0b27327ffab12f3e8a137f72692ea5266385500963138f52c"
    "es-CL"
  end
  language "es-ES" do
    sha256 "c3f80ec26d514360b3b2fd9155eea8c5985919a069b03cc896438c3952d67c1d"
    "es-ES"
  end
  language "fa" do
    sha256 "211756e2b0cd4e5d7aab9a39fcd44d46134370b18dc0bf35d8cb4d59365ff02f"
    "fa"
  end
  language "ff" do
    sha256 "5065dc457c9bda320181de13d9bd740c3053b4b42611ee0d84b1f8f16734d56e"
    "ff"
  end
  language "fi" do
    sha256 "ead0aa941ace93bb7b76e1d120a8531f942ca6550d79ff3afc32ac379cc82c2a"
    "fi"
  end
  language "fr" do
    sha256 "83b68aa607eae189f1806bff3e21a42c20de69b6e141a4bd314df95e510a5098"
    "fr"
  end
  language "gl" do
    sha256 "234377635c0b5a6ac03229a29eaa1a263088031c7c46df1203cd2a2b951b3961"
    "gl"
  end
  language "gn" do
    sha256 "052593edd83d2bcc51d67db3535905905471bd6932fcd209cd95022161b31cee"
    "gn"
  end
  language "gu" do
    sha256 "8e206ca361c9b392cf53329a6d2d606264213ff97963c105644fab50a02feafa"
    "gu-IN"
  end
  language "he" do
    sha256 "cc49beea77f08383d1d069289af8c3f722039e52e32ae3d001c074037ea3a5bb"
    "he"
  end
  language "hi" do
    sha256 "a542ce565db3e0463b11f6fd2510c446eab653cc6e16159ab4d588fd4408c701"
    "hi-IN"
  end
  language "in" do
    sha256 "a542ce565db3e0463b11f6fd2510c446eab653cc6e16159ab4d588fd4408c701"
    "hi-IN"
  end
  language "it" do
    sha256 "26d6f2a5b6b00210ce867e65bfaec2a3c077b50f367cc255c3ab9477b1648806"
    "it"
  end
  language "ja" do
    sha256 "145d804a3aaed23e4a090043748e8a746d1eb4fb6ad9fe4a7c4cd81f803681bc"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "807975a24e8b997973698d7d598293e10f1818de8ec4da0f4c95fb1351eaac0e"
    "ka"
  end
  language "ko" do
    sha256 "1abfbcda06270bbceca3ab67f3c90e54388944c18225919e3c15c2a4f7e222b7"
    "ko"
  end
  language "mr" do
    sha256 "fc774d74ae942f8a649da0988be6d1efb702be2aa38ca62bb459e6808b5ec9dd"
    "mr"
  end
  language "my" do
    sha256 "f6546a43af92a266b7c18e87a507ef82d9c329514409b09b8d08a188c82c3507"
    "my"
  end
  language "ne" do
    sha256 "eda69f8d3c30f6fd73dda5ef02c7d337a4acc0c456b6d93920b48fd435c968ac"
    "ne-NP"
  end
  language "nl" do
    sha256 "17a763cd5731a65f2fd1b97f331eda032ec36d1a049440c08a91d421455a5c39"
    "nl"
  end
  language "pa-IN" do
    sha256 "a67282fc167e68e87b726064bb5edaee3ddfe836e1d03b2eb2f70d7ff65acf4d"
    "pa-IN"
  end
  language "pl" do
    sha256 "c7c5ec3cf45014cf0a5beddd72754ea8fc9c48f956dbde2b2400cfeefaaedce6"
    "pl"
  end
  language "pt-BR" do
    sha256 "505670b44febeac5ec7a6c0c52e48cc365058a16c9a965536710cf858a354bf8"
    "pt-BR"
  end
  language "pt" do
    sha256 "61f0ba9a11abc68ec09f44a6c0260acd61aa7c9c49e1cb004ceb0cd279baadcd"
    "pt-PT"
  end
  language "ru" do
    sha256 "290dbab00c82cc38248e03ebf7313d61608d9e2b1500b5a921be2d003888b982"
    "ru"
  end
  language "si" do
    sha256 "5181747e2e09561ee44346532d52eced755bbbede76ab5318135bb1610c78134"
    "si"
  end
  language "sq" do
    sha256 "51e84a86e416c8dd573aada5355d336abfd64fe49290ca3155ed7822b007ab1e"
    "sq"
  end
  language "sr" do
    sha256 "07d4fa76e96cbed23e66ee64aa68afcae363824294d4d4d838536227cdde713e"
    "sr"
  end
  language "sv" do
    sha256 "1a1733aef0f79d9cf426879731ccfcbe4301dd64c59ecf2b93bd76482a491965"
    "sv-SE"
  end
  language "ta" do
    sha256 "376d9a414c03c752b5716a246c672b30631d6c9fbd5c8958536083161ed1d722"
    "ta"
  end
  language "te" do
    sha256 "58261200b2436be54880ca6049e4f74e0ddbb62f4adee40bb4eb9447803b1b21"
    "te"
  end
  language "th" do
    sha256 "d8a1b7416dbe3bc80d92a4645111c5c97199e5a012c1e7fe2aad42bbcda698b5"
    "th"
  end
  language "tl" do
    sha256 "d0fe04098e020a0642b5c0914a4d5eb6c381f8081103daf37b03b350c30f2779"
    "tl"
  end
  language "tr" do
    sha256 "a44b47a6c71b95cdf55a5f051f95a37ae14ef631877e13c4c010c775cf8691c8"
    "tr"
  end
  language "uk" do
    sha256 "efeb2ee83d136462208c2c7a020513c5e4749ae16e120651be3971543fabece0"
    "uk"
  end
  language "ur" do
    sha256 "67e2b75f4ad166f5e781e613b537c5d13d99b8756644ddc0dae12d539a9ff431"
    "ur"
  end
  language "zh-TW" do
    sha256 "4878adc7992a2daed8d5d567897f74cd364439038b19ed0d7e344fc52c861068"
    "zh-TW"
  end
  language "zh" do
    sha256 "6b9f659922ad075c79726062888ec197703728d8f7050663ef4b43f3a7c59039"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end