cask "firefox@esr" do
  version "140.4.0"

  language "af" do
    sha256 "06d1178113b0bf9ddd0226545927089e798a1bc7c47a8e065a64077f29882b7d"
    "af"
  end
  language "ar" do
    sha256 "a29322adba6f60377aee56c6e8a446bf5bf3ab99623c77712f6ee37a9ef9afde"
    "ar"
  end
  language "be" do
    sha256 "1590e88593a6064c04e4df5b5d9af0f7830e5d980c42f05313daece9e0f7eeac"
    "be"
  end
  language "bg" do
    sha256 "83b6fde046bd2b72dd45c66f2997e39c5f35576b0adab0230df480a48e807dfa"
    "bg"
  end
  language "bn" do
    sha256 "af828e8eeba81a4f3712af241e59736c955e2a01edfde4873687f1e5b6f2bbcf"
    "bn"
  end
  language "ca" do
    sha256 "25c6d870fdf62cbfd7746e2b5962ea5bbfb686b3d68f208522a27c455187a8a2"
    "ca"
  end
  language "cs" do
    sha256 "475b8c3d4bc7ca7c6cede9307843ff83bfc95c2881490f9da658186b916c60ce"
    "cs"
  end
  language "de" do
    sha256 "20ac6d159b5fb86fee5ba55362a10db3d6f4eda42441b396eac204a28162d94e"
    "de"
  end
  language "en-CA" do
    sha256 "0431d724c3d6aed46c7ce8b5de41d87e8a431b44c3019f6cd41dfbcf83cfa359"
    "en-CA"
  end
  language "en-GB" do
    sha256 "c69ec481832b1455d25d36e9f4634d659c9d93fe69fdd6fdd3b50a5c675c2e73"
    "en-GB"
  end
  language "en", default: true do
    sha256 "cdbb22b439f830c8958c9e66484844afa20b3b536d876d6b693161d3fbad7287"
    "en-US"
  end
  language "eo" do
    sha256 "4e3e282288d5e515718603db21810ce8ccf25179b858ffd2f5eeacae57171a9b"
    "eo"
  end
  language "es-AR" do
    sha256 "873e713ed6754df31da38d79665822b4da7c61aa6a6a7ef250774b4521faf1d8"
    "es-AR"
  end
  language "es-CL" do
    sha256 "5605afad6f1f2554e2b9314337962d03b965d85fc9e0fe9e43c1f5980a314282"
    "es-CL"
  end
  language "es-ES" do
    sha256 "bc77fa19c91008f3a08dda78810f26cc51b3b007728c3808e3d09bae3e8fa32f"
    "es-ES"
  end
  language "fa" do
    sha256 "cec7fa2d1b7cd96f44c9196650d383af6bf511cf13f3e998143be37b3796a453"
    "fa"
  end
  language "ff" do
    sha256 "855d1f9f95c38fc49ab885f595a1b37521ce7d484af4eb483d07be3f0151b4cb"
    "ff"
  end
  language "fi" do
    sha256 "5628967b6b64e9e619044faf3d8999f16de4a45bbe9ca4e4b23f103da9105621"
    "fi"
  end
  language "fr" do
    sha256 "7a80ecf1d53b210e1c7e926fc5d32f4d6dab9a371ca7414c4caef5f521f087c0"
    "fr"
  end
  language "gl" do
    sha256 "36968bafd41fdfa404e19b227a735289e4bdc5e06e0ed11dc326480eb58b4af7"
    "gl"
  end
  language "gn" do
    sha256 "e4e183bdfecc4520986e9073d1c0e63de874b06774df6b78a48f046a7c4b8525"
    "gn"
  end
  language "gu" do
    sha256 "38c8f30dc53955697b9406919539047436177a6e1c60915033b95d9ee6a52163"
    "gu-IN"
  end
  language "he" do
    sha256 "b0a38700c6437d1b940107ed0786b524dddd4236be51c85a0a771ea64164ddd5"
    "he"
  end
  language "hi" do
    sha256 "177eb768a4e172478a677ae7021ae7f82c27024a8ed97248f8144ebd5588f9eb"
    "hi-IN"
  end
  language "in" do
    sha256 "177eb768a4e172478a677ae7021ae7f82c27024a8ed97248f8144ebd5588f9eb"
    "hi-IN"
  end
  language "it" do
    sha256 "7aa86186e9ac3411a84343c719b10db60c7fb8d64ea732234f1f9710ea4073de"
    "it"
  end
  language "ja" do
    sha256 "7f8290ddf68e0796e88a9e51c7732af88937d53bddcfe0e6a841ffb2e84112c2"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "2e3285007130e6b4b222a87d3cfb56a5971eeb552638324dbe36bee7f7bcb3d6"
    "ka"
  end
  language "ko" do
    sha256 "a6a276ad5d1e1ed2d700664c015d26b83381e6597385c5d7e2ac51a859c7e65c"
    "ko"
  end
  language "mr" do
    sha256 "d8b44df55bbadb25e22cf17496696d98ef0fdc16c7e8a52d54519fea296b4835"
    "mr"
  end
  language "my" do
    sha256 "8fba9d2a65e4a64ee085eae989128fa88b2c7b1d06722223cc05a1ebe4c2c5db"
    "my"
  end
  language "ne" do
    sha256 "158a0564a27368b4f69beb3a05b5c78fe671f2e6e22f7f54f9a923ebcc7a7f2a"
    "ne-NP"
  end
  language "nl" do
    sha256 "4f9328f41ea76d5f2388f13ff57d4f8c0c142e2470f0c424b1648334100d7b16"
    "nl"
  end
  language "pa-IN" do
    sha256 "4991ed7fcebb2bab851a1755a5f25b45456f75a6866022df7519bf3e6cdf13cf"
    "pa-IN"
  end
  language "pl" do
    sha256 "1ff29346b657fb6aa00737b41e98268936c16f9d2779c2cc3f189e2d006ee9bd"
    "pl"
  end
  language "pt-BR" do
    sha256 "c91ed7f3210420aa2ee29e9f347c076c1a63029652fca088e056688c59478883"
    "pt-BR"
  end
  language "pt" do
    sha256 "25058eb685576989ef726caf2166aeeed3f7690b05f64d27cf7d439bb931d227"
    "pt-PT"
  end
  language "ru" do
    sha256 "e9c2c139bf6585fa9f8aeebaaa00d44ec6b9634e7dbd0751ca6161e769181e3a"
    "ru"
  end
  language "si" do
    sha256 "c61fdab308f7dd397c9d38f4eca66dab4965b17df6c08766538ddc1b34cb2846"
    "si"
  end
  language "sq" do
    sha256 "431ee6f97ae09d2d9a69d7040a7d7326a454a70d3542a5b4d4ddbb5aa873a195"
    "sq"
  end
  language "sr" do
    sha256 "ffb81be40249de75e8bf83f80cd2cc2c13bd6dcf09e391182902dc28b2555572"
    "sr"
  end
  language "sv" do
    sha256 "1100627f1827ca6748858ae13843e1e4b453b6cbe2a90544fa8c65022916a3b9"
    "sv-SE"
  end
  language "ta" do
    sha256 "51a76542e209652488ac94f78bedac9ef4d08c4f58981cf27020e6e42f6ddeff"
    "ta"
  end
  language "te" do
    sha256 "908a0dad680f88fe8bafcee4e0261cd99368fe9d3573cd3c228a94fc4c224ea9"
    "te"
  end
  language "th" do
    sha256 "fa703579ecdd359f2e445fa8822e4dacdd53fe60a63470efc809c61fcf3d2aaa"
    "th"
  end
  language "tl" do
    sha256 "125735d2284ba5447c81e7c0d65765aed6af68b9fcbbcad7c478354314ebe88c"
    "tl"
  end
  language "tr" do
    sha256 "feece6a3cf51f5dd149ffa61b78820ad149af4fe994edbe82479da4ef3e0b1d3"
    "tr"
  end
  language "uk" do
    sha256 "d295afa8f2cb231fd364ad3d3f8d88ff21ffb24e0f81202917fde6dd7536db0a"
    "uk"
  end
  language "ur" do
    sha256 "6809282c1e604109c06fa9b5d0f5086b03746c270517bb9b718fee97820c69fd"
    "ur"
  end
  language "zh-TW" do
    sha256 "4ed35f47093a94ae6d665403df0ca3cb32e397e4c2cc8df20d543351ff6bb4e1"
    "zh-TW"
  end
  language "zh" do
    sha256 "36fbd3209afe9619a6ea0934c9f560842758943f11f1929617efc91b9e89c673"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end