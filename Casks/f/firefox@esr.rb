cask "firefox@esr" do
  version "128.6.0"

  language "af" do
    sha256 "2bafb4521b362bc8bf01bb0eb041d842286acbcb9979e206f6e26d1f636da6a9"
    "af"
  end
  language "ar" do
    sha256 "db3c1d5699ac2e5db9650da54d42769985a099f8524fdb8b693fc91a1c72eda0"
    "ar"
  end
  language "be" do
    sha256 "5122432b3e256d4d3ed20c7268f796e0d54c668cc9831f0b7081311f8ca2fe8e"
    "be"
  end
  language "bg" do
    sha256 "426a9cf24b943c8706c87ac2b37ab6b0a27a5422bba366c83c653970b12f9966"
    "bg"
  end
  language "bn" do
    sha256 "647c5cb1cfd7d3beb7b2c25df28f0af6b143fbb8ee775245d32493a948f17abc"
    "bn"
  end
  language "ca" do
    sha256 "0a5e370d28baa616ea80bbc100ea3550f394680530448867b20afe8a05a66dbf"
    "ca"
  end
  language "cs" do
    sha256 "231637fc41c0a2975e2f3a4afa56731cf4f0a8414dabb4b4af99e5895a37f582"
    "cs"
  end
  language "de" do
    sha256 "aaf5600927555fd14b9d76f92aeef88b9fcb828dbe6abba654f08c9728311277"
    "de"
  end
  language "en-CA" do
    sha256 "39e512af2b2c5661143b076b86556001403d5977d6e40141e4d705a401546239"
    "en-CA"
  end
  language "en-GB" do
    sha256 "0d7f3ad615cef48987d0ac572a375f915f62c49c88c14cf034a4d67b2ae12acf"
    "en-GB"
  end
  language "en", default: true do
    sha256 "088aa40d2db87f726fc02d2b66af3afa48bc584b9d67f37694b4fa9a6a0cea9b"
    "en-US"
  end
  language "eo" do
    sha256 "4f70b70eabc85b8b09272bb3ac11d35b9ecae35b41e07585758a7ffcb2d26fd2"
    "eo"
  end
  language "es-AR" do
    sha256 "5b5a1f3783ff596caa0441babbdbe77711225840ec6aa6f4102e5ca6e35f0f2d"
    "es-AR"
  end
  language "es-CL" do
    sha256 "58dd5181675e00b5f7a7925e89610c4c87d1c25e1be52713958d83689f71a1ca"
    "es-CL"
  end
  language "es-ES" do
    sha256 "18dab227cfae1be366228a17513a218a79b498cc1f895e8b0febbe72edd1777d"
    "es-ES"
  end
  language "fa" do
    sha256 "17f8e913708eb9790c4e7b63c911bbc7c64cdf96d3094506db13649647d3486d"
    "fa"
  end
  language "ff" do
    sha256 "5c4f1419b4e848b82fd1d369ae1729701a284f8a474563d8602ff1e15c970569"
    "ff"
  end
  language "fi" do
    sha256 "def1458276cbcb8aa7776f86d96c875bdffdb589f51ffe8e889b6d39096716d3"
    "fi"
  end
  language "fr" do
    sha256 "b26819f1a8da61ff6a4b27d2ffec87b5f6ab342e4a2661a26d235838ce1c3880"
    "fr"
  end
  language "gl" do
    sha256 "ff0440166b539a99d9b0cd5f13a4055d3798f5c114565b24ac612208f3f7e496"
    "gl"
  end
  language "gn" do
    sha256 "8c6e063da5fb65dc80c07e3150df17ddf0ca70f4b5ce34babe72605440ee0a84"
    "gn"
  end
  language "gu" do
    sha256 "2cc0645730de9f92720e3e90e100985995b7e51df4fbf9d7977efd0a0ad7694f"
    "gu-IN"
  end
  language "he" do
    sha256 "0e0cfc4465ed82b280cc99a7b9941edb36fd8ef5d9b5c009042f76fe83167cac"
    "he"
  end
  language "hi" do
    sha256 "7335bc077f0626e897a83957716f243d1036a49e25367d364ee35a78f4aa5d3e"
    "hi-IN"
  end
  language "in" do
    sha256 "7335bc077f0626e897a83957716f243d1036a49e25367d364ee35a78f4aa5d3e"
    "hi-IN"
  end
  language "it" do
    sha256 "0a3f7dc7928c2588bcc39d17b5e0bfc83b8ca4a8733917f3a9abc14875e17ac4"
    "it"
  end
  language "ja" do
    sha256 "6e9f3b1a3c02be1f1758e0eecd84cc3c6a674224a081ccfa2e1389b36a7a1c20"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "06d114c3a15bdc32bc7feee5784f996a6e3bd40e73bbfbd15706a4f817b9e38e"
    "ka"
  end
  language "ko" do
    sha256 "13454bc4a57094bd2036cc9f8d328fa4a756d80cf6566dd9cc4bfd4ed64cd062"
    "ko"
  end
  language "mr" do
    sha256 "efe8ffb3e3862e7a22d6550837f1691500985ed5db084610daacf84bb33969ae"
    "mr"
  end
  language "my" do
    sha256 "c2a74bcf9fa7a2a92b5e1e4435396dd4f9fd8c11b605c31589dc9e46a0bb4b61"
    "my"
  end
  language "ne" do
    sha256 "7ae85d38222596aa9ecb425531f84fa39c67729201336b2b604f759232d2c152"
    "ne-NP"
  end
  language "nl" do
    sha256 "74c8b1b52e662c4fd411f418c7f76617083e4fcfe39a6b45094f29ea45e7aeef"
    "nl"
  end
  language "pa-IN" do
    sha256 "3b61f5dd808065e57aad2cfb4b5917eb17b447f39b12d373c505944178d2fe88"
    "pa-IN"
  end
  language "pl" do
    sha256 "6ef246782b9482f009bcf523e5b7c9e4aeef8cd2d3a532ff1ce3f846858dce37"
    "pl"
  end
  language "pt-BR" do
    sha256 "c02fcc54c7735e8f8b2107bf2a10dceaccb2e692532a75795e8623471fd8e812"
    "pt-BR"
  end
  language "pt" do
    sha256 "a7f4eb6531ff742d466fbfbe36de8438fd4c49942cfd09f0f784cdf152219c7c"
    "pt-PT"
  end
  language "ru" do
    sha256 "9c9b9e68381c098446bd1ffdcd4481fefe6d66a8e38ad501abcde7cabc87e32f"
    "ru"
  end
  language "si" do
    sha256 "3978c14c8269bab6d769ad53979b51e8f6e4ac0afa9eea06d3aeadba301b392e"
    "si"
  end
  language "sq" do
    sha256 "847aa8b0e4b5d9b657ff914fada71d118c24b35877876934a7c7af9c50707709"
    "sq"
  end
  language "sr" do
    sha256 "18a8a3d2c34ee1a8efc1cd80fc63674b887b69256cd8a6b361578b1882a76955"
    "sr"
  end
  language "sv" do
    sha256 "547cd41a86b362d715cc56140336811cd89af141d60f4426b307283906d55c5e"
    "sv-SE"
  end
  language "ta" do
    sha256 "24c64c9aa00d1f36b0db8d125479f790ce063ba602878b270eef9e3a466a7d97"
    "ta"
  end
  language "te" do
    sha256 "7bbfbcc259fb378e873a303e3df336ffaaa699ab5eca231e8a32e4adba1f8605"
    "te"
  end
  language "th" do
    sha256 "209af4e1db674b3dd9ab209ae5fd3f9dce9db255b44eb0911f001b996a736091"
    "th"
  end
  language "tl" do
    sha256 "26b4dbd77fe9ee79f38e54303a06331dad5589bb9bd4e0d12013f25108309290"
    "tl"
  end
  language "tr" do
    sha256 "eb1490923c6d5106fa6dc9e3dbf396b4628d8395d277a3483d38de92d15cd5f4"
    "tr"
  end
  language "uk" do
    sha256 "51a4b9171bcfd6d23ab3ecbd6319202258cbe49f0dcbc1460d5e9d41119dd020"
    "uk"
  end
  language "ur" do
    sha256 "536b1dc22177a0dfcef6faebe7b935f684f1148d863c2aed3d20f6bce80d0235"
    "ur"
  end
  language "zh-TW" do
    sha256 "b673faff596adb59276a9d840cb02bbcd74db7d64b114a1ac1ab1e4d5e7bd690"
    "zh-TW"
  end
  language "zh" do
    sha256 "95e6ce4b95a4e3bea3e18d5be43f712c5c39dfd276cf43c8b6e69f2ccf24a6d1"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end